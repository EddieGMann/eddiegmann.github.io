<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Pantry Tracker</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; max-width: 600px; margin: auto; }
    h1 { text-align: center; }
    .item { margin-bottom: 1.5rem; border-bottom: 1px solid #ccc; padding-bottom: 1rem; }
    input[type="number"] { width: 60px; }
    button { margin-left: 10px; }
  </style>
</head>
<body>
  <h1>Pantry Tracker</h1>
  <input
  type="text"
  id="searchBox"
  placeholder="Search pantry items..."
  style="width: 100%; padding: 8px; margin-bottom: 1rem; font-size: 1rem;"
/>

  <div id="pantryList">Loading...</div>

  <script>
   const url = "https://script.google.com/macros/s/AKfycbzb86kmdJ97YZWkTFBS0-eaF2MDmJ3s0ZSZ_dvODgYf_ukH2WGPTzvby_E_QA2Vw6mP/exec";

async function adjustItem(itemName, adjustmentType, amountInputId) {
  const amountInput = document.getElementById(amountInputId);
  let amount = parseInt(amountInput.value);
  if (isNaN(amount)) {
    amount = 1;
  }
  if (adjustmentType === "subtract") {
    amount *= -1;
  }

  try {
    const response = await fetch(url, {
      method: "POST",
      mode: "cors",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        item: itemName,
        amount: amount
      })
    });

    const data = await response.json();
    if (data.success) {
      loadPantry();  // re-fetch the updated list
    } else {
      console.error("Error updating item:", data.error);
    }
  } catch (error) {
    console.error("Fetch error:", error);
  }
}



loadPantry();

  </script>
</body>
</html>
